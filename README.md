# Bayes Naive Classifier
<a href="http://www.picshare.ru/view/8804821/" target="_blank"><img src="http://www.picshare.ru/uploads/180518/Y718FC71VB.jpg" border="0" width="500" height="285" title="Хостинг картинок PicShare.ru"></a>
## Введение. Цель проекта.
#### Введение
Классификация текста является распространенной задачей и может встретиться в разных сферах жизни.
Например:
- определить пол человека по его имени
- составление интернет - каталогов
- фильтрация спама
- подбор контекстной рекламы
- ограничение области поиска в поисковых системах
- классификация новостей / персональные новсти

#### Кому же в первую очередь пригодится данное приложение и для каких целей?
Всем, кто хочет экономить время на поиске информации или её группировке для различных целей.
Если вы студент и имеете большой объем документов по различным предметам, тогда вы быстро сможете отыскать нужный документ, зная только название предмета. Или же у вас собственный интернет магазин, и тогда без особых временных затрат вы сможете добавить в каталог описание товаров из различных категорий. А может, вас интересует к какому классу новостей относится информация, которая лежит в документе. 
#### Особенности приложения
Приложение работает для текстов на русском языке.
Алгоритм обработки информации основан на [наивном Байесовском классификаторе](https://4gophers.ru/articles/klassifikaciya-teksta/#.Wv7cUu6FPX6).
В качестве предобработки слов проводится стемминг слов на основе [алгоритма стеммера Портера](https://medium.com/@eigenein/%D1%81%D1%82%D0%B5%D0%BC%D0%BC%D0%B5%D1%80-%D0%BF%D0%BE%D1%80%D1%82%D0%B5%D1%80%D0%B0-%D0%B4%D0%BB%D1%8F-%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D0%B3%D0%BE-%D1%8F%D0%B7%D1%8B%D0%BA%D0%B0-d41c38b2d340).

## Сравнение с аналогами
|Алгоритмы| Ссылка |Сложность реализации|Точность вычислений|Скорость выполнения|Требовательность к ресурсам|
|:--------|:------:|:------------------:|:-----------------:|:-----------------:|:-------------------------:|
|Naive Bayes Classifier| - |легкая|низкая|высокая|-
|SVM |<http://svmlight.joachims.org/>|средняя|средняя|высокая|+
|Multi-layer Perceptron |<http://scikit-learn.org/stable/modules/neural_networks_supervised.html>|высокая|высокая|средняя|++|

## Требования к апаратуре
Приложение предназначено для работы с приложением на ПК.

|Пункты|Минимальные системные требования|Рекомендуемые системные требования|
|------|:------------------------------:|:--------------------------------:|
|Операционная система| Windows XP и аналогичные|Windows 10 64 Bit|
|Процессор|Intel Core 2 Duo|Intel Core i3|Intel Core i3-530 и аналогичные|
|RAM|512 Mb|1 GB|
|Место на жестком диске|20 Mb|60 Mb| 

-----------------------------------
## Требования к программному обеспечению
- Windows 7(x86/x64) / Windows 8 / Windows 10
- Microsoft Visual Studio 2015, так же возможна работа на более ранних версиях
- Qt Creator 5.6

## Средства разработки программного обеспечения
#### Среда разработки
Microsoft Visual Studio 2017
#### Тестирование
QTest (QT 5.6)
#### Система управления версиями DVCS
GitHub Desktop
#### Автоматическая проверка стиля и синтаксиса cppcheck
Cpp Check Code Analysis Tools 1.83
#### Автоматическое построение документации
Doxygen 1.8.14
#### Языки программирования:
С++
#### Отладчики 
MS Visual Studio

## Характеристика продукта
*Расход памяти*
Приложение расходует 2 Мб оперативной памяти.
Так же расход  зависит от объема входных данных
*Производительность*
На обучение алгоритма с небольшой выборкой (120 текстов) затрачиватся 5  секунд.
А ответ выдается пользователю за несколько миллисекнд.
*Надежность*
В случае возникновения ошибки, приложение сообщает о причине возникновения ошибки и завершает работу.

## Формат входных данных
На вход от пользователя оживается выбор режима работы приложения.
В качестве входных данных приложение принимает  документы (текстовые файлы), для которых будет расчитываться вероятность или вероятности, в зависимости от выбора режима работы приложения. Все текстовые файлы должны быть на русском языке. Формат текстового файла [txt](https://open-file.ru/types/txt)

## Формат выходных данных
На выходе: (на выбор пользователя)
1.	Вероятности принадлежности введенного текста к некоторому набору классов, выбранных пользователем
2.	Наибольшая вероятность принадлежности текста к имеющимся классам текущей библиотеки

## Установка
Проект собирается из исходных файлов.

### Генерация автодокументации
Для генерации автодокументации необходимо иметь установленный [doxygen](http://www.stack.nl/~dimitri/doxygen/download.html)
После распаковки содержимого в желаемую директорию, находясь в папке приложения, через командную строку сгенерировать файл опций, используя команду
	doxygen DoxyFile
Затем, находясь в папке с файлом опции, через командную строку сгенерировать автодокументацию, используя команду 
	doxygen DoxyFile
### Статистическая проверка кода

Для выполнения статической проверки кода необходимо установить утилиту [cppcheck](http://cppcheck.sourceforge.net/).


## Запуск
Для запуска приложения необходимо собрать исходный код и запустить его в среде разработки.
## Интерфейс
Приложение будет иметь следующий вид, кторый завист от выбранного пользователем режима работы:
<a href="http://www.picshare.ru/view/8805162/" target="_blank"><img src="http://www.picshare.ru/uploads/180518/yZzaJTYMo9.jpg" border="0" width="1084" height="283" title="Хостинг картинок PicShare.ru"></a>

<a href="http://www.picshare.ru/view/8805203/" target="_blank"><img src="http://www.picshare.ru/uploads/180519/Yi7uhVTgpI.jpg" border="0" width="1102" height="457" title="Хостинг картинок PicShare.ru"></a>
Для работы приложения пользователь дожен ввести имя текстового файла и выбрать режим работы приложения.
Пользователю предлагается выбрать между определением текста к одному классу или ко всем.
В данной версии приложения поддерживаются 4 класса:
- economics
- politics
- sports
- it
После ввода входных данных в поле "Результат:" будет выведет результат работы приложения.
## API библиотеки
### 1. Класс Байесов Классификатор (реализация наивного байесова классификатора)
### 2. Класс Обучение (на тестовой выборке)
### 3. Класс Считывание из файла (работа с потоками ввода, сохранение результатов)
### 4. Класс Предобработки слов(удаление стоп - слов, лемматизация слов)
## Детали реализации
Приложение использует наивный байесовский классификатор . Он основан на теореме Байеса, которая позволяет рассчитать вероятность некоторого события на основании факта что произошло некоторое другое событие. Формула для решения задачи классификации формулируется следующим уравнением:
![](http://wojteklu.com/images/bayes_theorem@2x.png)
в которой C это класс, а D это сам документ. С помощью этой теоремы вычисляется вероятность присвоения класса C документу D, при условии, что мы знаем вероятность отношения документа D к классу С и независимые вероятности для C и для D. Вероятность для класса равна количеству документов в обучающем наборе, принадлежащих этому классу, разделенная на количество всех документов. Под словом "наивная" скрывается допущение что все слова в документе не зависят друг от друга, в таком случае, мы можем вычислить вероятность как сумму вероятностей для каждого отдельного слова.
![](http://wojteklu.com/images/bayes_theorem2@2x.png)
Мультиномиальная классификация учитывает еще и частоту вхождения. Вероятность присвоения класса для конкретного слова в мультиномиальном классификаторе можно выразить как:
![](http://wojteklu.com/images/conditional_probability@2x.png)

В качестве предобработки слов должна проводится лемматизация  или стемминг на основе алгоритма Портера.
На начальном моменте обучение будет происходить на основе 120 различных текстов для 4 классов. Количество текстов для обучения будет увеличиваться по мере необходимости.
## Тестирование
Работа модулей была проверена модульными тестами с использованием инструмента QTest. 
Чтобы зупустить тест необходимо собрать проект как консольное Qt  приложение и выбрать test.
В ходе тестирования были проверены такие модули, как:
- стеммер
- удаление стоп-слов
- полная предобработка текста
- преобразование строки в вектор строк
- расчет вероятностей для определения принадлежности слова к конкретному классу.

Класс для тестирования выглядит следующим образом:

	Q_OBJECT
		private slots:
	void test_stemmer_data();
	void test_stemmer();

	void test_deleteStopWords_data();
	void test_deleteStopWords();

	void test_processingWords_data();
	void test_processingWords();

	void test_updateData_data();
	void test_updateData();

	void test_probability_data();
	void test_probability();

Пример работы тестов:
<a href="http://www.picshare.ru/view/8805183/" target="_blank"><img src="http://www.picshare.ru/uploads/180519/PMgqY9o8NK.jpg" border="0" width="799" height="1001" title="Хостинг картинок PicShare.ru"></a>

Всего проведено 67 тестов для 5 модулей.

## Ссылки и литература
1.	DataReview.info [Байесовский классификатор.Алгоритм](http://datareview.info/article/6-prostyih-shagov-dlya-osvoeniya-naivnogo-bayesovskogo-algoritma-s-primerom-koda-na-python/)
2.	4gophers.ru [Байесовский классификатор](https://4gophers.ru/articles/klassifikaciya-teksta/#.WpWumSXFLX6)
3.	habrahabr.ru [Байесовский классификатор](https://habrahabr.ru/post/146449/)
4.	crypto.pp.ua [Байесовский классификатор](http://crypto.pp.ua/2011/04/bajesovskij-klassifikator/)
5.	tartarus.org [Стеммер Портера](https://tartarus.org/martin/PorterStemmer/)

